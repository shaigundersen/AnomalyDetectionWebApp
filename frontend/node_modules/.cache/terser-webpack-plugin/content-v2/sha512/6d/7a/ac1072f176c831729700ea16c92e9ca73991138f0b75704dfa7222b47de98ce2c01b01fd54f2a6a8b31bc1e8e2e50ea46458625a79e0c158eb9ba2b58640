{"code":"(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{353:function(e,t,a){\"use strict\";a.r(t);var n=a(0),l=a.n(n),i=a(63),r=a.n(i),c=a(20),s=a(37),o=a(69),d=a(160),j=a(161),u=a(162),b=a(185),h=a(187),m=a(38),p=a(27),x=(a(73),a(165)),O=a.n(x),f=a(7),v=function(e){Object(u.a)(a,e);var t=Object(b.a)(a);function a(e){var n;return Object(d.a)(this,a),(n=t.call(this,e)).selectionChanged=function(e){n.setState({detectorType:e.target.value})},n.fileSelected=function(e){var t=e.target.files[0],a=t.type,l=e.target.name,i=e.target.files[0].name;n.setState(Object(o.a)({},l,i));var r=l.replace(\"Name\",\"\"),c=l.replace(\"Name\",\"Error\");[\"application/vnd.ms-excel\",\"csv\"].includes(a)?(n.setState(Object(o.a)({},c,!1)),n.csvToJson(t,r)):n.setState(Object(o.a)({},c,!0)),e.target.value=null},n.submitHandler=function(e){e.preventDefault(),O.a.post(\"/detect\",{detectorType:n.state.detectorType,learn:n.state.learnFile,anomaly:n.state.anomalyFile}).then((function(e){var t=e.data.report,a=[];t.forEach((function(e){var t=e.timeStep[0],n=e.timeStep.pop();a.push({description:e.description,timeStep:[t,n]})})),n.props.parentCallback(a)})).catch((function(e){return console.log(e)})),n.setDefaultState()},n.state={detectorType:\"\",learnFileName:\"Please Upload Learn CSV\",anomalyFileName:\"Please Upload Anomaly CSV\",learnFile:null,anomalyFile:null,learnFileError:!1,anomalyFileError:!1,mydata:[]},n.baseState=n.state,n}return Object(j.a)(a,[{key:\"csvToJson\",value:function(e,t){var a=this,n=new FileReader;n.readAsText(e,\"UTF-8\"),n.onload=function(){for(var e=n.result.split(/\\r\\n|\\r|\\n/g),l=[],i=e[0].split(\",\"),r=e.length,c=0;c<i.length;c++){for(var s={},d=[],j=1;j<r-1;j++){var u=e[j].split(\",\");d.push(parseFloat(u[c]))}s[i[c]]=d,l.push(s)}var b=JSON.stringify(l);b=\"{\"+(b=(b=(b=b.replaceAll(\"{\",\"\")).replaceAll(\"}\",\"\")).substring(1,b.length-1))+\"}\",a.setState(Object(o.a)({},t,b))}}},{key:\"setDefaultState\",value:function(){this.setState(this.baseState)}},{key:\"checkFormValidation\",value:function(){var e=this.state,t=e.detectorType,a=e.learnFileName,n=e.anomalyFileName,l=e.learnFileError,i=e.anomalyFileError;return t===this.baseState.detectorType||(!(a!==this.baseState.learnFileName&&!l)||(!(n!==this.baseState.anomalyFileName&&!i)||void 0))}},{key:\"render\",value:function(){return Object(f.jsx)(l.a.Fragment,{children:Object(f.jsx)(s.a,{children:Object(f.jsx)(p.a,{className:\"m-3 items mainForm needs-validation\",noValidate:!0,onSubmit:this.submitHandler,children:Object(f.jsxs)(s.a,{children:[Object(f.jsx)(m.a,{xs:\"auto\",children:Object(f.jsxs)(p.a.Control,{as:\"select\",className:\"mr-sm-2\",onChange:this.selectionChanged,custom:!0,value:this.state.detectorType,children:[Object(f.jsx)(\"option\",{value:\"\",children:\"Choose Algorithem...\"}),Object(f.jsx)(\"option\",{value:\"regression\",children:\"Regression\"}),Object(f.jsx)(\"option\",{value:\"hybrid\",children:\"Hybrid\"})]})}),Object(f.jsx)(m.a,{children:Object(f.jsx)(p.a.Group,{children:Object(f.jsxs)(p.a.File,{className:\"inputFile\",id:\"custom-file\",custom:!0,children:[Object(f.jsx)(p.a.File.Input,{name:\"learnFileName\",onInput:this.fileSelected,isInvalid:this.state.learnFileError}),Object(f.jsx)(p.a.File.Label,{children:this.state.learnFileName}),Object(f.jsx)(p.a.Control.Feedback,{type:\"invalid\",children:\"file is not CSV type!\"})]})})}),Object(f.jsx)(m.a,{children:Object(f.jsx)(p.a.Group,{children:Object(f.jsxs)(p.a.File,{className:\"inputFile\",id:\"custom-file\",custom:!0,children:[Object(f.jsx)(p.a.File.Input,{name:\"anomalyFileName\",onInput:this.fileSelected,isInvalid:this.state.anomalyFileError}),Object(f.jsx)(p.a.File.Label,{children:this.state.anomalyFileName}),Object(f.jsx)(p.a.Control.Feedback,{type:\"invalid\",children:\"file is not CSV type!\"})]})})}),Object(f.jsx)(m.a,{children:Object(f.jsx)(h.a,{type:\"submit\",disabled:this.checkFormValidation(),children:\"Submit\"})})]})})})})}}]),a}(n.Component),y=a(355),F=a(356),g=a(360),S=a(181),N=a(182),C=a(72),k=a(68),T=a(186),E=function(e){var t=e.active,a=e.payload;e.label;return t&&a&&a.length?Object(f.jsx)(\"div\",{className:\"custom-tooltip\",children:Object(f.jsx)(\"p\",{className:\"label\",children:\"Anomalies found from \".concat(a[0].value[0],\" until \").concat(a[0].value[1])})}):null},A=function(e){var t=e.x,a=e.y,n=e.payload.value.split(\"~~\");return Object(f.jsx)(\"g\",{transform:\"translate(\".concat(t,\",\").concat(a,\")\"),children:Object(f.jsxs)(\"text\",{x:0,y:0,textAnchor:\"end\",fill:\"#666\",children:[Object(f.jsx)(\"tspan\",{children:n[0]}),Object(f.jsx)(\"tspan\",{x:0,dy:\"20\",children:n[1]})]})})};var w=function(e){var t=Object(n.useState)(e.data),a=Object(c.a)(t,1)[0],l=document.createElement(\"canvas\").getContext(\"2d\").measureText(\"CorrelatedFeatures\").width;return a.forEach((function(e){var t=function(e){var t=e.split(\"~~\"),a=document.createElement(\"canvas\").getContext(\"2d\");return Math.max(a.measureText(t[0]).width,a.measureText(t[1]).width)}(e.description);t>l&&(l=t)})),l+=50,Object(f.jsx)(y.a,{className:\"chart\",width:\"75%\",height:300,children:Object(f.jsxs)(F.a,{data:a,margin:{top:5,right:30,left:l,bottom:5},layout:\"vertical\",children:[Object(f.jsx)(g.a,{strokeDasharray:\"3 3\"}),Object(f.jsx)(S.a,{type:\"number\",domain:[\"auto\",\"auto\"]}),Object(f.jsx)(N.a,{type:\"category\",dataKey:\"description\",label:{value:\"CorrelatedFeatures\",position:\"insideTopLeft\",dx:-90},tick:Object(f.jsx)(A,{})}),Object(f.jsx)(C.a,{content:Object(f.jsx)(E,{})}),Object(f.jsx)(k.a,{}),Object(f.jsx)(T.a,{dataKey:\"timeStep\",fill:\"#8884d8\"})]})})},I=function(){var e=Object(n.useState)([]),t=Object(c.a)(e,2),a=t[0],i=t[1];return Object(f.jsxs)(l.a.Fragment,{children:[Object(f.jsx)(s.a,{children:Object(f.jsx)(v,{parentCallback:function(e){i(e)}})}),a.length>0&&Object(f.jsx)(s.a,{children:Object(f.jsx)(w,{data:a},Math.random())})]})},V=a(183);a(352);r.a.render(Object(f.jsxs)(V.a,{fluid:!0,children:[Object(f.jsx)(s.a,{style:{textAlign:\"center\",padding:\"10px 0\",fontSize:\"50px\",fontWeight:\"bold\",background:\"rgba(0, 128, 0, 0.3)\"},children:Object(f.jsx)(m.a,{children:\"Anomaly Detection Server\"})}),Object(f.jsx)(s.a,{children:Object(f.jsx)(I,{})})]}),document.getElementById(\"root\"))},73:function(e,t,a){}},[[353,1,2]]]);","name":"static/js/main.e368144a.chunk.js","map":{"version":3,"sources":["static/js/main.e368144a.chunk.js"],"names":["this","push","353","module","__webpack_exports__","__webpack_require__","r","react","react_default","n","react_dom","react_dom_default","slicedToArray","Row","defineProperty","classCallCheck","createClass","inherits","createSuper","Button","Col","Form","axios","axios_default","jsx_runtime","inputForm","_Component","Object","InputForm","_super","props","_this","call","selectionChanged","event","setState","detectorType","target","value","fileSelected","file","files","file_type","type","fileNameProperty","name","fileName","fileDataProperty","replace","fileError","includes","csvToJson","submitHandler","preventDefault","a","post","state","learn","learnFile","anomaly","anomalyFile","then","response","anomalyReport","data","report","fixedReport","forEach","rep","first","timeStep","last","pop","description","parentCallback","catch","err","console","log","setDefaultState","learnFileName","anomalyFileName","learnFileError","anomalyFileError","mydata","baseState","key","_this2","fileReader","FileReader","readAsText","onload","lines","result","split","headers","len","length","i","obj","values","j","currentline","parseFloat","json","JSON","stringify","replaceAll","substring","_this$state","Fragment","children","className","noValidate","onSubmit","xs","Control","as","onChange","custom","Group","File","id","Input","onInput","isInvalid","Label","Feedback","disabled","checkFormValidation","ResponsiveContainer","BarChart","CartesianGrid","XAxis","YAxis","Tooltip","Legend","Bar","anomalyChart_CustomizedTooltip","_ref","active","payload","label","concat","anomalyChart_CustomizedLabelAxis","_ref2","x","y","splitted","transform","textAnchor","fill","dy","anomalyChart","_useState","leftMargin","document","createElement","getContext","measureText","width","element","textWidth","ctx","Math","max","height","margin","top","right","left","bottom","layout","strokeDasharray","domain","dataKey","position","dx","tick","content","controller","_useState2","setReport","random","Container","render","fluid","style","textAlign","padding","fontSize","fontWeight","background","getElementById","73","exports"],"mappings":"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"},"input":"(this[\"webpackJsonpfrontend\"] = this[\"webpackJsonpfrontend\"] || []).push([[0],{\n\n/***/ 353:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// EXTERNAL MODULE: ./node_modules/react/index.js\nvar react = __webpack_require__(0);\nvar react_default = /*#__PURE__*/__webpack_require__.n(react);\n\n// EXTERNAL MODULE: ./node_modules/react-dom/index.js\nvar react_dom = __webpack_require__(63);\nvar react_dom_default = /*#__PURE__*/__webpack_require__.n(react_dom);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js + 3 modules\nvar slicedToArray = __webpack_require__(20);\n\n// EXTERNAL MODULE: ./node_modules/react-bootstrap/esm/Row.js\nvar Row = __webpack_require__(37);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty.js\nvar defineProperty = __webpack_require__(69);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\nvar classCallCheck = __webpack_require__(160);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass.js\nvar createClass = __webpack_require__(161);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits.js\nvar inherits = __webpack_require__(162);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper.js + 3 modules\nvar createSuper = __webpack_require__(185);\n\n// EXTERNAL MODULE: ./node_modules/react-bootstrap/esm/Button.js + 2 modules\nvar Button = __webpack_require__(187);\n\n// EXTERNAL MODULE: ./node_modules/react-bootstrap/esm/Col.js\nvar Col = __webpack_require__(38);\n\n// EXTERNAL MODULE: ./node_modules/react-bootstrap/esm/Form.js + 15 modules\nvar Form = __webpack_require__(27);\n\n// EXTERNAL MODULE: ./src/style.css\nvar style = __webpack_require__(73);\n\n// EXTERNAL MODULE: ./node_modules/axios/index.js\nvar axios = __webpack_require__(165);\nvar axios_default = /*#__PURE__*/__webpack_require__.n(axios);\n\n// EXTERNAL MODULE: ./node_modules/react/jsx-runtime.js\nvar jsx_runtime = __webpack_require__(7);\n\n// CONCATENATED MODULE: ./src/components/inputForm.jsx\nvar inputForm_InputForm=/*#__PURE__*/function(_Component){Object(inherits[\"a\" /* default */])(InputForm,_Component);var _super=Object(createSuper[\"a\" /* default */])(InputForm);function InputForm(props){var _this;Object(classCallCheck[\"a\" /* default */])(this,InputForm);_this=_super.call(this,props);_this.selectionChanged=function(event){_this.setState({detectorType:event.target.value});};_this.fileSelected=function(event){var file=event.target.files[0];var file_type=file.type;//getting selected file type\nvar valid_extensions=[\"application/vnd.ms-excel\",\"csv\"];//adding some valid csv extensions in array\nvar fileNameProperty=event.target.name;var fileName=event.target.files[0].name;_this.setState(Object(defineProperty[\"a\" /* default */])({},fileNameProperty,fileName));var fileDataProperty=fileNameProperty.replace(\"Name\",\"\");var fileError=fileNameProperty.replace(\"Name\",\"Error\");if(valid_extensions.includes(file_type)){// set error to be false\n_this.setState(Object(defineProperty[\"a\" /* default */])({},fileError,false));// valid extention -> make json of it\n_this.csvToJson(file,fileDataProperty);}else{// invalid type -> raise error\n_this.setState(Object(defineProperty[\"a\" /* default */])({},fileError,true));}event.target.value=null;};_this.submitHandler=function(event){event.preventDefault();axios_default.a.post(\"/detect\",{detectorType:_this.state.detectorType,learn:_this.state.learnFile,anomaly:_this.state.anomalyFile}).then(function(response){var anomalyReport=response.data.report;// this report.timeStep is of type = [1,2,3,4]\nvar fixedReport=[];// this fixedReport.timeStep will be of type= [1,4]\nanomalyReport.forEach(function(rep){var first=rep.timeStep[0];var last=rep.timeStep.pop();fixedReport.push({description:rep.description,timeStep:[first,last]});});// update parent on the given report\n_this.props.parentCallback(fixedReport);}).catch(function(err){return console.log(err);});//set the form back to default\n_this.setDefaultState();};_this.state={detectorType:\"\",learnFileName:\"Please Upload Learn CSV\",anomalyFileName:\"Please Upload Anomaly CSV\",learnFile:null,// learn file\nanomalyFile:null,// test file\nlearnFileError:false,// for validation\nanomalyFileError:false,// for validation\nmydata:[]};// preserve the initial state to fall back to\n_this.baseState=_this.state;return _this;}Object(createClass[\"a\" /* default */])(InputForm,[{key:\"csvToJson\",value:function csvToJson(file,fileDataProperty){var _this2=this;var fileReader=new FileReader();//creating new FileReader object\nfileReader.readAsText(file,\"UTF-8\");fileReader.onload=function(){var lines=fileReader.result.split(/\\r\\n|\\r|\\n/g);//split by new line depending on system\nvar result=[];var headers=lines[0].split(\",\");var len=lines.length;for(var i=0;i<headers.length;i++){var obj={};var values=[];for(var j=1;j<len-1;j++){var currentline=lines[j].split(\",\");values.push(parseFloat(currentline[i]));}obj[headers[i]]=values;result.push(obj);}var json=JSON.stringify(result);//JSON\njson=json.replaceAll(\"{\",\"\");json=json.replaceAll(\"}\",\"\");json=json.substring(1,json.length-1);// remove wrapping []\njson=\"{\"+json+\"}\";_this2.setState(Object(defineProperty[\"a\" /* default */])({},fileDataProperty,json));};}// file selected handler\n},{key:\"setDefaultState\",value:function setDefaultState(){this.setState(this.baseState);}// if any of conditions are satisfied -> form is incomplete -> disable submit button\n},{key:\"checkFormValidation\",value:function checkFormValidation(){var _this$state=this.state,detectorType=_this$state.detectorType,learnFileName=_this$state.learnFileName,anomalyFileName=_this$state.anomalyFileName,learnFileError=_this$state.learnFileError,anomalyFileError=_this$state.anomalyFileError;if(detectorType===this.baseState.detectorType)return true;if(learnFileName===this.baseState.learnFileName||learnFileError)return true;if(anomalyFileName===this.baseState.anomalyFileName||anomalyFileError)return true;}},{key:\"render\",value:function render(){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_default.a.Fragment,{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Row[\"a\" /* default */],{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Form[\"a\" /* default */],{className:\"m-3 items mainForm needs-validation\",noValidate:true,onSubmit:this.submitHandler,children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Row[\"a\" /* default */],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Col[\"a\" /* default */],{xs:\"auto\",children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Form[\"a\" /* default */].Control,{as:\"select\",className:\"mr-sm-2\",onChange:this.selectionChanged,custom:true,value:this.state.detectorType,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"option\",{value:\"\",children:\"Choose Algorithem...\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"option\",{value:\"regression\",children:\"Regression\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"option\",{value:\"hybrid\",children:\"Hybrid\"})]})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Col[\"a\" /* default */],{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Form[\"a\" /* default */].Group,{children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Form[\"a\" /* default */].File,{className:\"inputFile\",id:\"custom-file\",custom:true,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Form[\"a\" /* default */].File.Input,{name:\"learnFileName\",onInput:this.fileSelected,isInvalid:this.state.learnFileError}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Form[\"a\" /* default */].File.Label,{children:this.state.learnFileName}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Form[\"a\" /* default */].Control.Feedback,{type:\"invalid\",children:\"file is not CSV type!\"})]})})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Col[\"a\" /* default */],{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Form[\"a\" /* default */].Group,{children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Form[\"a\" /* default */].File,{className:\"inputFile\",id:\"custom-file\",custom:true,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Form[\"a\" /* default */].File.Input,{name:\"anomalyFileName\",onInput:this.fileSelected,isInvalid:this.state.anomalyFileError}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Form[\"a\" /* default */].File.Label,{children:this.state.anomalyFileName}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Form[\"a\" /* default */].Control.Feedback,{type:\"invalid\",children:\"file is not CSV type!\"})]})})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Col[\"a\" /* default */],{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button[\"a\" /* default */],{type:\"submit\",disabled:this.checkFormValidation(),children:\"Submit\"})})]})})})});}}]);return InputForm;}(react[\"Component\"]);/* harmony default export */ var inputForm = (inputForm_InputForm);\n// EXTERNAL MODULE: ./node_modules/recharts/es6/component/ResponsiveContainer.js\nvar ResponsiveContainer = __webpack_require__(355);\n\n// EXTERNAL MODULE: ./node_modules/recharts/es6/chart/BarChart.js\nvar BarChart = __webpack_require__(356);\n\n// EXTERNAL MODULE: ./node_modules/recharts/es6/cartesian/CartesianGrid.js\nvar CartesianGrid = __webpack_require__(360);\n\n// EXTERNAL MODULE: ./node_modules/recharts/es6/cartesian/XAxis.js\nvar XAxis = __webpack_require__(181);\n\n// EXTERNAL MODULE: ./node_modules/recharts/es6/cartesian/YAxis.js\nvar YAxis = __webpack_require__(182);\n\n// EXTERNAL MODULE: ./node_modules/recharts/es6/component/Tooltip.js + 1 modules\nvar Tooltip = __webpack_require__(72);\n\n// EXTERNAL MODULE: ./node_modules/recharts/es6/component/Legend.js + 11 modules\nvar Legend = __webpack_require__(68);\n\n// EXTERNAL MODULE: ./node_modules/recharts/es6/cartesian/Bar.js + 3 modules\nvar Bar = __webpack_require__(186);\n\n// CONCATENATED MODULE: ./src/components/anomalyChart.jsx\nvar anomalyChart_CustomizedTooltip=function CustomizedTooltip(_ref){var active=_ref.active,payload=_ref.payload,label=_ref.label;if(active&&payload&&payload.length){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"custom-tooltip\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"p\",{className:\"label\",children:\"Anomalies found from \".concat(payload[0].value[0],\" until \").concat(payload[0].value[1])})});}return null;};var anomalyChart_CustomizedLabelAxis=function CustomizedLabelAxis(_ref2){var x=_ref2.x,y=_ref2.y,payload=_ref2.payload;var splitted=payload.value.split(\"~~\");return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"g\",{transform:\"translate(\".concat(x,\",\").concat(y,\")\"),children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"text\",{x:0,y:0,textAnchor:\"end\",fill:\"#666\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"tspan\",{children:splitted[0]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"tspan\",{x:0,dy:\"20\",children:splitted[1]})]})});};//helper func to measure each description\nfunction measureText(description){var splitted=description.split(\"~~\");var ctx=document.createElement(\"canvas\").getContext(\"2d\");return Math.max(ctx.measureText(splitted[0]).width,ctx.measureText(splitted[1]).width);}var anomalyChart_AnomalyChart=function AnomalyChart(props){var _useState=Object(react[\"useState\"])(props.data),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,1),data=_useState2[0];// to know how much margin we need to set as each description is of different length\nvar leftMargin=document.createElement(\"canvas\").getContext(\"2d\").measureText(\"CorrelatedFeatures\").width;data.forEach(function(element){var textWidth=measureText(element.description);if(textWidth>leftMargin){leftMargin=textWidth;}});leftMargin+=50;return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ResponsiveContainer[\"a\" /* ResponsiveContainer */],{className:\"chart\",width:\"75%\",height:300,children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(BarChart[\"a\" /* BarChart */],{data:data,margin:{top:5,right:30,left:leftMargin,bottom:5},layout:\"vertical\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(CartesianGrid[\"a\" /* CartesianGrid */],{strokeDasharray:\"3 3\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(XAxis[\"a\" /* XAxis */],{type:\"number\",domain:[\"auto\",\"auto\"]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(YAxis[\"a\" /* YAxis */],{type:\"category\",dataKey:\"description\",label:{value:\"CorrelatedFeatures\",position:\"insideTopLeft\",dx:-90},tick:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(anomalyChart_CustomizedLabelAxis,{})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Tooltip[\"a\" /* Tooltip */],{content:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(anomalyChart_CustomizedTooltip,{})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Legend[\"a\" /* Legend */],{}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Bar[\"a\" /* Bar */],{dataKey:\"timeStep\",fill:\"#8884d8\"})]})});};/* harmony default export */ var anomalyChart = (anomalyChart_AnomalyChart);\n// CONCATENATED MODULE: ./src/components/controller.jsx\nvar controller_Controller=function Controller(){var _useState=Object(react[\"useState\"])([]),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),report=_useState2[0],setReport=_useState2[1];var getAnomalies=function getAnomalies(report){setReport(report);};return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(react_default.a.Fragment,{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Row[\"a\" /* default */],{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(inputForm,{parentCallback:getAnomalies})}),report.length>0&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Row[\"a\" /* default */],{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(anomalyChart,{data:report},Math.random())})]});};/* harmony default export */ var controller = (controller_Controller);\n// EXTERNAL MODULE: ./node_modules/react-bootstrap/esm/Container.js\nvar Container = __webpack_require__(183);\n\n// EXTERNAL MODULE: ./node_modules/bootstrap/dist/css/bootstrap.min.css\nvar bootstrap_min = __webpack_require__(352);\n\n// CONCATENATED MODULE: ./src/index.js\nreact_dom_default.a.render(/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Container[\"a\" /* default */],{fluid:true,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Row[\"a\" /* default */],{style:{textAlign:\"center\",padding:\"10px 0\",fontSize:\"50px\",fontWeight:\"bold\",background:\"rgba(0, 128, 0, 0.3)\"},children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Col[\"a\" /* default */],{children:\"Anomaly Detection Server\"})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Row[\"a\" /* default */],{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(controller,{})})]}),document.getElementById(\"root\"));\n\n/***/ }),\n\n/***/ 73:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ })\n\n},[[353,1,2]]]);","inputSourceMap":{"version":3,"sources":["C:/Users/97205/Desktop/ass2/AnomalyDetectionWebApp/frontend/src/components/inputForm.jsx","C:/Users/97205/Desktop/ass2/AnomalyDetectionWebApp/frontend/src/components/anomalyChart.jsx","C:/Users/97205/Desktop/ass2/AnomalyDetectionWebApp/frontend/src/components/controller.jsx","C:/Users/97205/Desktop/ass2/AnomalyDetectionWebApp/frontend/src/index.js","C:\\Users\\97205\\Desktop\\ass2\\AnomalyDetectionWebApp\\frontend\\node_modules\\mini-css-extract-plugin\\dist\\loader.js??ref--5-oneOf-4-0!C:\\Users\\97205\\Desktop\\ass2\\AnomalyDetectionWebApp\\frontend\\node_modules\\css-loader\\dist\\cjs.js??ref--5-oneOf-4-1!C:\\Users\\97205\\Desktop\\ass2\\AnomalyDetectionWebApp\\frontend\\node_modules\\postcss-loader\\src\\index.js??postcss!C:\\Users\\97205\\Desktop\\ass2\\AnomalyDetectionWebApp\\frontend\\src\\style.css"],"names":["InputForm","props","selectionChanged","event","setState","detectorType","target","value","fileSelected","file","files","file_type","type","valid_extensions","fileNameProperty","name","fileName","fileDataProperty","replace","fileError","includes","csvToJson","submitHandler","preventDefault","axios","post","state","learn","learnFile","anomaly","anomalyFile","then","response","anomalyReport","data","report","fixedReport","forEach","rep","first","timeStep","last","pop","push","description","parentCallback","catch","err","console","log","setDefaultState","learnFileName","anomalyFileName","learnFileError","anomalyFileError","mydata","baseState","fileReader","FileReader","readAsText","onload","lines","result","split","headers","len","length","i","obj","values","j","currentline","parseFloat","json","JSON","stringify","replaceAll","substring","checkFormValidation","Component","CustomizedTooltip","active","payload","label","CustomizedLabelAxis","x","y","splitted","measureText","ctx","document","createElement","getContext","Math","max","width","AnomalyChart","useState","leftMargin","element","textWidth","top","right","left","bottom","position","dx","Controller","setReport","getAnomalies","random","ReactDOM","render","textAlign","padding","fontSize","fontWeight","background","getElementById"],"mappings":"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","file":"x","sourcesContent":["import React, { Component } from \"react\";\r\nimport Button from \"react-bootstrap/Button\";\r\nimport Row from \"react-bootstrap/Row\";\r\nimport Col from \"react-bootstrap/Col\";\r\nimport Form from \"react-bootstrap/Form\";\r\nimport \"../style.css\";\r\nimport axios from \"axios\";\r\n\r\nclass InputForm extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      detectorType: \"\",\r\n      learnFileName: \"Please Upload Learn CSV\",\r\n      anomalyFileName: \"Please Upload Anomaly CSV\",\r\n      learnFile: null, // learn file\r\n      anomalyFile: null, // test file\r\n      learnFileError: false, // for validation\r\n      anomalyFileError: false, // for validation\r\n      mydata: [],\r\n    };\r\n    // preserve the initial state to fall back to\r\n    this.baseState = this.state;\r\n  }\r\n  selectionChanged = (event) => {\r\n    this.setState({ detectorType: event.target.value });\r\n  };\r\n\r\n  csvToJson(file, fileDataProperty) {\r\n    let fileReader = new FileReader(); //creating new FileReader object\r\n    fileReader.readAsText(file, \"UTF-8\");\r\n    fileReader.onload = () => {\r\n      var lines = fileReader.result.split(/\\r\\n|\\r|\\n/g); //split by new line depending on system\r\n      var result = [];\r\n      var headers = lines[0].split(\",\");\r\n      var len = lines.length;\r\n      for (var i = 0; i < headers.length; i++) {\r\n        var obj = {};\r\n        var values = [];\r\n        for (var j = 1; j < len - 1; j++) {\r\n          var currentline = lines[j].split(\",\");\r\n          values.push(parseFloat(currentline[i]));\r\n        }\r\n        obj[headers[i]] = values;\r\n        result.push(obj);\r\n      }\r\n      var json = JSON.stringify(result); //JSON\r\n      json = json.replaceAll(\"{\", \"\");\r\n      json = json.replaceAll(\"}\", \"\");\r\n      json = json.substring(1, json.length - 1); // remove wrapping []\r\n      json = \"{\" + json + \"}\";\r\n      this.setState({ [fileDataProperty]: json });\r\n    };\r\n  }\r\n  // file selected handler\r\n  fileSelected = (event) => {\r\n    let file = event.target.files[0];\r\n    let file_type = file.type; //getting selected file type\r\n    let valid_extensions = [\"application/vnd.ms-excel\", \"csv\"]; //adding some valid csv extensions in array\r\n    let fileNameProperty = event.target.name;\r\n    let fileName = event.target.files[0].name;\r\n    this.setState({ [fileNameProperty]: fileName });\r\n    let fileDataProperty = fileNameProperty.replace(\"Name\", \"\");\r\n    let fileError = fileNameProperty.replace(\"Name\", \"Error\");\r\n    if (valid_extensions.includes(file_type)) {\r\n      // set error to be false\r\n      this.setState({ [fileError]: false });\r\n      // valid extention -> make json of it\r\n      this.csvToJson(file, fileDataProperty);\r\n    } else {\r\n      // invalid type -> raise error\r\n      this.setState({ [fileError]: true });\r\n    }\r\n    event.target.value = null;\r\n  };\r\n\r\n  setDefaultState() {\r\n    this.setState(this.baseState);\r\n  }\r\n  // if any of conditions are satisfied -> form is incomplete -> disable submit button\r\n  checkFormValidation() {\r\n    const {\r\n      detectorType,\r\n      learnFileName,\r\n      anomalyFileName,\r\n      learnFileError,\r\n      anomalyFileError,\r\n    } = this.state;\r\n    if (detectorType === this.baseState.detectorType) return true;\r\n    if (learnFileName === this.baseState.learnFileName || learnFileError)\r\n      return true;\r\n    if (anomalyFileName === this.baseState.anomalyFileName || anomalyFileError)\r\n      return true;\r\n  }\r\n\r\n  submitHandler = (event) => {\r\n    event.preventDefault();\r\n    axios\r\n      .post(\"/detect\", {\r\n        detectorType: this.state.detectorType,\r\n        learn: this.state.learnFile,\r\n        anomaly: this.state.anomalyFile,\r\n      })\r\n      .then((response) => {\r\n        let anomalyReport = response.data.report; // this report.timeStep is of type = [1,2,3,4]\r\n        let fixedReport = []; // this fixedReport.timeStep will be of type= [1,4]\r\n        anomalyReport.forEach((rep) => {\r\n          let first = rep.timeStep[0];\r\n          let last = rep.timeStep.pop();\r\n          fixedReport.push({\r\n            description: rep.description,\r\n            timeStep: [first, last],\r\n          });\r\n        });\r\n        // update parent on the given report\r\n        this.props.parentCallback(fixedReport);\r\n      })\r\n      .catch((err) => console.log(err));\r\n    //set the form back to default\r\n    this.setDefaultState();\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <React.Fragment>\r\n        <Row>\r\n          <Form\r\n            className=\"m-3 items mainForm needs-validation\"\r\n            noValidate\r\n            onSubmit={this.submitHandler}\r\n          >\r\n            <Row>\r\n              <Col xs=\"auto\">\r\n                <Form.Control\r\n                  as=\"select\"\r\n                  className=\"mr-sm-2\"\r\n                  onChange={this.selectionChanged}\r\n                  custom\r\n                  value={this.state.detectorType}\r\n                >\r\n                  <option value=\"\">Choose Algorithem...</option>\r\n                  <option value=\"regression\">Regression</option>\r\n                  <option value=\"hybrid\">Hybrid</option>\r\n                </Form.Control>\r\n              </Col>\r\n              <Col>\r\n                <Form.Group>\r\n                  <Form.File className=\"inputFile\" id=\"custom-file\" custom>\r\n                    <Form.File.Input\r\n                      name=\"learnFileName\"\r\n                      onInput={this.fileSelected}\r\n                      isInvalid={this.state.learnFileError}\r\n                    />\r\n                    <Form.File.Label>\r\n                      {this.state.learnFileName}\r\n                    </Form.File.Label>\r\n                    <Form.Control.Feedback type=\"invalid\">\r\n                      file is not CSV type!\r\n                    </Form.Control.Feedback>\r\n                  </Form.File>\r\n                </Form.Group>\r\n              </Col>\r\n              <Col>\r\n                <Form.Group>\r\n                  <Form.File className=\"inputFile\" id=\"custom-file\" custom>\r\n                    <Form.File.Input\r\n                      name=\"anomalyFileName\"\r\n                      onInput={this.fileSelected}\r\n                      isInvalid={this.state.anomalyFileError}\r\n                    />\r\n                    <Form.File.Label>\r\n                      {this.state.anomalyFileName}\r\n                    </Form.File.Label>\r\n                    <Form.Control.Feedback type=\"invalid\">\r\n                      file is not CSV type!\r\n                    </Form.Control.Feedback>\r\n                  </Form.File>\r\n                </Form.Group>\r\n              </Col>\r\n              <Col>\r\n                <Button type=\"submit\" disabled={this.checkFormValidation()}>\r\n                  Submit\r\n                </Button>\r\n              </Col>\r\n            </Row>\r\n          </Form>\r\n        </Row>\r\n      </React.Fragment>\r\n    );\r\n  }\r\n}\r\n\r\nexport default InputForm;\r\n","import React, { useState } from \"react\";\r\n\r\nimport \"../style.css\";\r\nimport {\r\n  BarChart,\r\n  Bar,\r\n  XAxis,\r\n  YAxis,\r\n  CartesianGrid,\r\n  Tooltip,\r\n  Legend,\r\n  ResponsiveContainer,\r\n} from \"recharts\";\r\n\r\nconst CustomizedTooltip = ({ active, payload, label }) => {\r\n  if (active && payload && payload.length) {\r\n    return (\r\n      <div className=\"custom-tooltip\">\r\n        <p className=\"label\">{`Anomalies found from ${payload[0].value[0]} until ${payload[0].value[1]}`}</p>\r\n      </div>\r\n    );\r\n  }\r\n  return null;\r\n};\r\nconst CustomizedLabelAxis = ({ x, y, payload }) => {\r\n  const splitted = payload.value.split(\"~~\");\r\n  return (\r\n    <g transform={`translate(${x},${y})`}>\r\n      <text x={0} y={0} textAnchor=\"end\" fill=\"#666\">\r\n        <tspan>{splitted[0]}</tspan>\r\n        <tspan x={0} dy=\"20\">\r\n          {splitted[1]}\r\n        </tspan>\r\n      </text>\r\n    </g>\r\n  );\r\n};\r\n//helper func to measure each description\r\nfunction measureText(description) {\r\n  const splitted = description.split(\"~~\");\r\n  const ctx = document.createElement(\"canvas\").getContext(\"2d\");\r\n  return Math.max(\r\n    ctx.measureText(splitted[0]).width,\r\n    ctx.measureText(splitted[1]).width\r\n  );\r\n}\r\nconst AnomalyChart = (props) => {\r\n  const [data] = useState(props.data);\r\n  // to know how much margin we need to set as each description is of different length\r\n  let leftMargin = document\r\n    .createElement(\"canvas\")\r\n    .getContext(\"2d\")\r\n    .measureText(\"CorrelatedFeatures\").width;\r\n  data.forEach((element) => {\r\n    const textWidth = measureText(element.description);\r\n    if (textWidth > leftMargin) {\r\n      leftMargin = textWidth;\r\n    }\r\n  });\r\n  leftMargin += 50;\r\n  return (\r\n    <ResponsiveContainer className=\"chart\" width=\"75%\" height={300}>\r\n      <BarChart\r\n        data={data}\r\n        margin={{\r\n          top: 5,\r\n          right: 30,\r\n          left: leftMargin,\r\n          bottom: 5,\r\n        }}\r\n        layout=\"vertical\"\r\n      >\r\n        <CartesianGrid strokeDasharray=\"3 3\" />\r\n        <XAxis type=\"number\" domain={[\"auto\", \"auto\"]} />\r\n        <YAxis\r\n          type=\"category\"\r\n          dataKey=\"description\"\r\n          label={{\r\n            value: \"CorrelatedFeatures\",\r\n            position: \"insideTopLeft\",\r\n            dx: -90,\r\n          }}\r\n          tick={<CustomizedLabelAxis />}\r\n        />\r\n        <Tooltip content={<CustomizedTooltip />} />\r\n        <Legend />\r\n        <Bar dataKey=\"timeStep\" fill=\"#8884d8\" />\r\n      </BarChart>\r\n    </ResponsiveContainer>\r\n  );\r\n};\r\n\r\nexport default AnomalyChart;\r\n","import React, { useState } from \"react\";\r\nimport Row from \"react-bootstrap/Row\";\r\nimport InputForm from \"./inputForm\";\r\nimport AnomalyChart from \"./anomalyChart\";\r\nimport \"../style.css\";\r\n\r\nconst Controller = () => {\r\n  const [report, setReport] = useState([]);\r\n  const getAnomalies = (report) => {\r\n    setReport(report);\r\n  };\r\n\r\n  return (\r\n    <React.Fragment>\r\n      <Row>\r\n        <InputForm parentCallback={getAnomalies} />\r\n      </Row>\r\n\r\n      {report.length > 0 && (\r\n        <Row>\r\n          <AnomalyChart key={Math.random()} data={report} />\r\n        </Row>\r\n      )}\r\n    </React.Fragment>\r\n  );\r\n};\r\n\r\nexport default Controller;\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport Controller from \"./components/controller\";\r\nimport Container from \"react-bootstrap/Container\";\r\nimport Row from \"react-bootstrap/Row\";\r\nimport Col from \"react-bootstrap/Col\";\r\nimport \"bootstrap/dist/css/bootstrap.min.css\";\r\nimport \"./style.css\";\r\n\r\nReactDOM.render(\r\n  <Container fluid>\r\n    <Row\r\n      style={{\r\n        textAlign: \"center\",\r\n        padding: \"10px 0\",\r\n        fontSize: \"50px\",\r\n        fontWeight: \"bold\",\r\n        background: \"rgba(0, 128, 0, 0.3)\",\r\n      }}\r\n    >\r\n      <Col>Anomaly Detection Server</Col>\r\n    </Row>\r\n    <Row>\r\n      <Controller />\r\n    </Row>\r\n  </Container>,\r\n  document.getElementById(\"root\")\r\n);\r\n","// extracted by mini-css-extract-plugin"]}}