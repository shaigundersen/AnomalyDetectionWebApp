{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\97205\\\\Desktop\\\\ass2\\\\AnomalyDetectionWebApp\\\\frontend\\\\src\\\\components\\\\anomalyChart.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from \"react\";\nimport \"../style.css\";\nimport { BarChart, Bar, XAxis, YAxis, CartesianGrid, Tooltip, Legend, ResponsiveContainer } from \"recharts\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst CustomizedTooltip = ({\n  active,\n  payload,\n  label\n}) => {\n  if (active && payload && payload.length) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"custom-tooltip\",\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"label\",\n        children: `Anomalies found from : ${payload[0].value[0]} until : ${payload[0].value[1]}`\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 19,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"desc\",\n        children: \"Anything you want can be displayed here.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 20,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 18,\n      columnNumber: 7\n    }, this);\n  }\n\n  return null;\n};\n\n_c = CustomizedTooltip;\n\nconst CustomizedLabelAxis = ({\n  x,\n  y,\n  payload\n}) => {\n  const splitted = payload.value.split(\"~~\");\n  return /*#__PURE__*/_jsxDEV(\"g\", {\n    transform: `translate(${x},${y})`,\n    children: /*#__PURE__*/_jsxDEV(\"text\", {\n      x: 0,\n      y: 0,\n      textAnchor: \"end\",\n      fill: \"#666\",\n      children: [/*#__PURE__*/_jsxDEV(\"tspan\", {\n        children: splitted[0]\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 31,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"tspan\", {\n        x: 0,\n        dy: \"20\",\n        children: splitted[1]\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 32,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 30,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 29,\n    columnNumber: 5\n  }, this);\n}; //helper func to measure each description\n\n\n_c2 = CustomizedLabelAxis;\n\nfunction measureText(description) {\n  const splitted = description.split(\"~~\");\n  const ctx = document.createElement(\"canvas\").getContext(\"2d\");\n  return Math.max(ctx.measureText(splitted[0]).width, ctx.measureText(splitted[1]).width);\n}\n\nconst AnomalyChart = props => {\n  _s();\n\n  const [data] = useState(props.data); // to know how much margin we need to set as each description is of different length\n\n  let leftMargin = 0;\n  data.forEach(element => {\n    const textWidth = measureText(element.description);\n\n    if (textWidth > leftMargin) {\n      leftMargin = textWidth;\n    }\n  });\n  console.log(leftMargin);\n  leftMargin += 50;\n  return /*#__PURE__*/_jsxDEV(ResponsiveContainer, {\n    className: \"chart\",\n    width: \"75%\",\n    height: 300,\n    children: /*#__PURE__*/_jsxDEV(BarChart, {\n      data: data,\n      margin: {\n        top: 5,\n        right: 30,\n        left: leftMargin,\n        bottom: 5\n      },\n      layout: \"vertical\",\n      children: [/*#__PURE__*/_jsxDEV(CartesianGrid, {\n        strokeDasharray: \"3 3\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(XAxis, {\n        type: \"number\",\n        domain: [\"auto\", \"auto\"]\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(YAxis, {\n        type: \"category\",\n        dataKey: \"description\",\n        label: {\n          value: \"index\",\n          position: \"insideLeft\",\n          angle: -90,\n          dy: -10\n        },\n        tick: /*#__PURE__*/_jsxDEV(CustomizedLabelAxis, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Tooltip, {\n        content: /*#__PURE__*/_jsxDEV(CustomizedTooltip, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 27\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Legend, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Bar, {\n        dataKey: \"timeStep\",\n        fill: \"#8884d8\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 61,\n    columnNumber: 5\n  }, this);\n};\n\n_s(AnomalyChart, \"Z0uJ5tuDLg7cvkKdywsVp5Flv3g=\");\n\n_c3 = AnomalyChart;\nexport default AnomalyChart;\n\nvar _c, _c2, _c3;\n\n$RefreshReg$(_c, \"CustomizedTooltip\");\n$RefreshReg$(_c2, \"CustomizedLabelAxis\");\n$RefreshReg$(_c3, \"AnomalyChart\");","map":{"version":3,"sources":["C:/Users/97205/Desktop/ass2/AnomalyDetectionWebApp/frontend/src/components/anomalyChart.jsx"],"names":["React","useState","BarChart","Bar","XAxis","YAxis","CartesianGrid","Tooltip","Legend","ResponsiveContainer","CustomizedTooltip","active","payload","label","length","value","CustomizedLabelAxis","x","y","splitted","split","measureText","description","ctx","document","createElement","getContext","Math","max","width","AnomalyChart","props","data","leftMargin","forEach","element","textWidth","console","log","top","right","left","bottom","position","angle","dy"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\r\n\r\nimport \"../style.css\";\r\nimport {\r\n  BarChart,\r\n  Bar,\r\n  XAxis,\r\n  YAxis,\r\n  CartesianGrid,\r\n  Tooltip,\r\n  Legend,\r\n  ResponsiveContainer,\r\n} from \"recharts\";\r\n\r\nconst CustomizedTooltip = ({ active, payload, label }) => {\r\n  if (active && payload && payload.length) {\r\n    return (\r\n      <div className=\"custom-tooltip\">\r\n        <p className=\"label\">{`Anomalies found from : ${payload[0].value[0]} until : ${payload[0].value[1]}`}</p>\r\n        <p className=\"desc\">Anything you want can be displayed here.</p>\r\n      </div>\r\n    );\r\n  }\r\n  return null;\r\n};\r\nconst CustomizedLabelAxis = ({ x, y, payload }) => {\r\n  const splitted = payload.value.split(\"~~\");\r\n  return (\r\n    <g transform={`translate(${x},${y})`}>\r\n      <text x={0} y={0} textAnchor=\"end\" fill=\"#666\">\r\n        <tspan>{splitted[0]}</tspan>\r\n        <tspan x={0} dy=\"20\">\r\n          {splitted[1]}\r\n        </tspan>\r\n      </text>\r\n    </g>\r\n  );\r\n};\r\n//helper func to measure each description\r\nfunction measureText(description) {\r\n  const splitted = description.split(\"~~\");\r\n  const ctx = document.createElement(\"canvas\").getContext(\"2d\");\r\n  return Math.max(\r\n    ctx.measureText(splitted[0]).width,\r\n    ctx.measureText(splitted[1]).width\r\n  );\r\n}\r\nconst AnomalyChart = (props) => {\r\n  const [data] = useState(props.data);\r\n  // to know how much margin we need to set as each description is of different length\r\n  let leftMargin = 0;\r\n  data.forEach((element) => {\r\n    const textWidth = measureText(element.description);\r\n    if (textWidth > leftMargin) {\r\n      leftMargin = textWidth;\r\n    }\r\n  });\r\n  console.log(leftMargin);\r\n  leftMargin += 50;\r\n  return (\r\n    <ResponsiveContainer className=\"chart\" width=\"75%\" height={300}>\r\n      <BarChart\r\n        data={data}\r\n        margin={{\r\n          top: 5,\r\n          right: 30,\r\n          left: leftMargin,\r\n          bottom: 5,\r\n        }}\r\n        layout=\"vertical\"\r\n      >\r\n        <CartesianGrid strokeDasharray=\"3 3\" />\r\n        <XAxis type=\"number\" domain={[\"auto\", \"auto\"]} />\r\n        <YAxis\r\n          type=\"category\"\r\n          dataKey=\"description\"\r\n          label={{\r\n            value: \"index\",\r\n            position: \"insideLeft\",\r\n            angle: -90,\r\n            dy: -10,\r\n          }}\r\n          tick={<CustomizedLabelAxis />}\r\n        />\r\n        <Tooltip content={<CustomizedTooltip />} />\r\n        <Legend />\r\n        <Bar dataKey=\"timeStep\" fill=\"#8884d8\" />\r\n      </BarChart>\r\n    </ResponsiveContainer>\r\n  );\r\n};\r\n\r\nexport default AnomalyChart;\r\n"]},"metadata":{},"sourceType":"module"}