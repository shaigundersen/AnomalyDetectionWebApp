[{"C:\\Users\\97205\\Desktop\\ass2\\AnomalyDetectionWebApp\\frontend\\src\\index.js":"1","C:\\Users\\97205\\Desktop\\ass2\\AnomalyDetectionWebApp\\frontend\\src\\components\\inputForm.jsx":"2"},{"size":713,"mtime":1621348662135,"results":"3","hashOfConfig":"4"},{"size":4257,"mtime":1621510374670,"results":"5","hashOfConfig":"4"},{"filePath":"6","messages":"7","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"ooy39c",{"filePath":"8","messages":"9","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"10"},"C:\\Users\\97205\\Desktop\\ass2\\AnomalyDetectionWebApp\\frontend\\src\\index.js",[],"C:\\Users\\97205\\Desktop\\ass2\\AnomalyDetectionWebApp\\frontend\\src\\components\\inputForm.jsx",["11"],"import React, { Component } from \"react\";\r\nimport Button from \"react-bootstrap/Button\";\r\nimport Row from \"react-bootstrap/Row\";\r\nimport Col from \"react-bootstrap/Col\";\r\nimport Form from \"react-bootstrap/Form\";\r\nimport \"../style.css\";\r\nimport axios from \"axios\";\r\n\r\nclass InputForm extends Component {\r\n  state = {\r\n    detectorType: \"\",\r\n    learnFileName: \"Please Upload Learn CSV\",\r\n    anomalyFileName: \"Please Upload Anomaly CSV\",\r\n    learnFile: null, // learn file\r\n    anomalyFile: null, // test file\r\n  };\r\n\r\n  selectionChanged = (event) => {\r\n    this.setState({ detectorType: event.target.value });\r\n  };\r\n\r\n  fileSelected = (event) => {\r\n    let file = event.target.files[0];\r\n    let file_type = file.type; //getting selected file type\r\n    let valid_extensions = [\"application/vnd.ms-excel\", \"csv\"]; //adding some valid image extensions in array\r\n    if (valid_extensions.includes(file_type)) {\r\n      let fileNameProperty = event.target.name;\r\n      let fileName = event.target.files[0].name;\r\n      this.setState({ [fileNameProperty]: fileName });\r\n      let fileDataProperty = fileNameProperty.replace(\"Name\", \"\");\r\n      // console.log(fileDataProperty)\r\n      // this.setState({[fileDataProperty]: event.target.files[0]}) // trying to change learn/anomaly to the chosen file\r\n\r\n      let fileReader = new FileReader(); //creating new FileReader object\r\n      fileReader.readAsText(file, \"UTF-8\");\r\n      fileReader.onload = () => {\r\n        var lines = fileReader.result.split(\"\\r\\n\");\r\n        var result = [];\r\n        var headers = lines[0].split(\",\");\r\n        var len = lines.length;\r\n        for (var i = 0; i < headers.length; i++) {\r\n          var obj = {};\r\n          var values = [];\r\n          for (var j = 1; j < len - 1; j++) {\r\n            var currentline = lines[j].split(\",\");\r\n            values.push(parseFloat(currentline[i]));\r\n          }\r\n          obj[headers[i]] = values;\r\n          result.push(obj);\r\n        }\r\n        var json = JSON.stringify(result); //JSON\r\n        json = json.replaceAll(\"{\", \"\");\r\n        json = json.replaceAll(\"}\", \"\");\r\n        json = json.substring(1, json.length - 1); // remove wrapping []\r\n        json = \"{\" + json + \"}\";\r\n        // console.log(json);\r\n        this.setState({ [fileDataProperty]: json });\r\n        console.log(this.state.learnFile);\r\n        console.log(this.state.anomalyFile);\r\n      };\r\n    }\r\n  };\r\n\r\n  submitHandler = (event) => {\r\n    alert(\"submitted files!!!!\");\r\n    const reader = new FileReader();\r\n    // reader.readAsText(this.state.learn) // does it work?\r\n    // console.log(reader.result.substring(0,100)) // doesn't work\r\n    axios.post(\"/detect\", {\r\n      DetectorType: this.state.detectorType,\r\n      Learn: this.state.learnFile,\r\n      Anomaly: this.state.anomalyFile,\r\n    });\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <Form className=\"m-3 items mainForm\" onSubmit={this.submitHandler}>\r\n        <Row>\r\n          <Col xs=\"auto\">\r\n            <Form.Control\r\n              as=\"select\"\r\n              className=\"mr-sm-2\"\r\n              onChange={this.selectionChanged}\r\n              custom\r\n            >\r\n              <option value=\"\">Choose Algorithem...</option>\r\n              <option value=\"regression\">Regression</option>\r\n              <option value=\"hybrid\">Hybrid</option>\r\n            </Form.Control>\r\n          </Col>\r\n          <Col>\r\n            <Form.Group>\r\n              <Form.File\r\n                className=\"inputFile\"\r\n                id=\"custom-file\"\r\n                label={this.state.learnFileName}\r\n                onInput={this.fileSelected}\r\n                name=\"learnFileName\"\r\n                custom\r\n              ></Form.File>\r\n            </Form.Group>\r\n          </Col>\r\n          <Col>\r\n            <Form.Group>\r\n              <Form.File\r\n                className=\"inputFile\"\r\n                id=\"custom-file\"\r\n                label={this.state.anomalyFileName}\r\n                name=\"anomalyFileName\"\r\n                onInput={this.fileSelected}\r\n                custom\r\n              ></Form.File>\r\n            </Form.Group>\r\n          </Col>\r\n          <Col>\r\n            <Button type=\"submit\">Submit</Button>\r\n          </Col>\r\n        </Row>\r\n      </Form>\r\n    );\r\n  }\r\n}\r\n\r\nexport default InputForm;\r\n",{"ruleId":"12","severity":1,"message":"13","line":66,"column":11,"nodeType":"14","messageId":"15","endLine":66,"endColumn":17},"no-unused-vars","'reader' is assigned a value but never used.","Identifier","unusedVar"]